import{_ as b}from"./AuthenticatedLayout-cac3fa03.js";import{o as i,f as p,r as w,n as m,q as v,v as k,a as l,u as d,w as o,F as g,X as C,b as e,l as O,d as r,p as $,t as a,c as S,g as W}from"./app-ac6b6984.js";import{_ as B}from"./Modal-030272c4.js";import{_ as h}from"./SuccessButton-20b8d134.js";import{_ as N}from"./DangerButton-89a317cc.js";import"./ApplicationLogo-1ef25d7a.js";const x={__name:"CustomLink",props:{type:{type:String,default:"blue"}},setup(u){const c=s=>{if(s=="yellow")return"inline-flex items-center px-4 py-2 bg-yellow-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-yellow-500 focus:bg-yellow-500 active:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2 transition ease-in-out duration-150";if(s=="purple")return"inline-flex items-center px-4 py-2 bg-purple-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-purple-500 focus:bg-purple-500 active:bg-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition ease-in-out duration-150"};return(s,_)=>(i(),p("a",{class:m(c(u.type))},[w(s.$slots,"default")],2))}},V={class:"pb-5"},j=e("h2",{class:"float-left font-semibold text-xl text-gray-800 leading-tight"}," Work Order ",-1),A={class:"py-6 px-3"},D={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},F={class:"relative overflow-x-auto"},I={class:"w-full text-sm text-left text-gray-500 light:text-gray-400"},L=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 light:bg-gray-700 light:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"}," W.O. # "),e("th",{scope:"col",class:"px-6 py-3"}," W.O Date "),e("th",{scope:"col",class:"px-6 py-3"}," Customer name "),e("th",{scope:"col",class:"px-6 py-3"}," Category "),e("th",{scope:"col",class:"px-6 py-3"},"Modal"),e("th",{scope:"col",class:"px-6 py-3"},"Total"),e("th",{scope:"col",class:"px-6 py-3"})])],-1),M={class:"px-6 py-4"},T={class:"px-6 py-4"},q={scope:"row",class:"px-6 py-4"},z={class:"px-6 py-4"},X={class:"px-6 py-4"},G={class:"px-6 py-4"},H={class:"px-6 py-4"},J={class:"p-6"},K=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to complete the order? ",-1),P=e("p",{class:"mt-1 text-sm text-gray-600"}," Once the work order is marked as completed, the current date will be assigned to the order, and a work order completion email will be sent to the relevant user. ",-1),Q={class:"mt-6 flex justify-end"},re={__name:"Index",props:{work_orders:Object},setup(u){const c=v(!1),s=k({wo_id:""}),_=n=>{c.value=!0,s.wo_id=n},y=()=>{s.post(route("work-order.complete"),{preserveScroll:!0,onSuccess:()=>f()})},f=()=>{c.value=!1};return(n,R)=>(i(),p(g,null,[l(d(C),{title:"Work Order"}),l(b,null,{header:o(()=>[e("div",V,[j,l(d(O),{class:"float-right focus:outline-none text-white bg-green-500 hover:bg-green-600 focus:ring-2 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-1.5 mr-2 mb-2 dark:focus:ring-green-900",href:n.route("work-order.create")},{default:o(()=>[r("Add Work Order")]),_:1},8,["href"])])]),default:o(()=>[e("div",A,[e("div",D,[e("div",E,[e("div",F,[e("table",I,[L,e("tbody",null,[(i(!0),p(g,null,$(u.work_orders.data,(t,U)=>(i(),p("tr",{class:m(["border-b light:bg-gray-800 light:border-gray-700",t.wo_completed==1?"bg-green-100":"bg-white "])},[e("td",M,a(t.id),1),e("td",T,a(t.wo_date),1),e("td",q,[e("b",null,a(t.wo_customer_name),1)]),e("td",z,a(t.wo_bike_category),1),e("td",X,a(t.wo_bike_model),1),e("td",G," $"+a(t.wo_grand_total),1),e("td",H,[l(x,{href:n.route("work-order.edit",t.id),class:"m-1",type:"yellow"},{default:o(()=>[r("Edit")]),_:2},1032,["href"]),l(x,{href:n.route("work-order.pdf",t.id),target:"_blank",class:"m-1",type:"purple"},{default:o(()=>[r("Invoice")]),_:2},1032,["href"]),t.wo_completed==0?(i(),S(h,{key:0,onClick:Y=>_(t.id),class:"m-1"},{default:o(()=>[r("Complete")]),_:2},1032,["onClick"])):W("",!0)])],2))),256))])])])])])]),l(B,{show:c.value,onClose:f},{default:o(()=>[e("div",J,[K,P,e("div",Q,[l(N,{onClick:f},{default:o(()=>[r(" Cancel ")]),_:1}),l(h,{class:m(["ml-3",{"opacity-25":d(s).processing}]),disabled:d(s).processing,onClick:y},{default:o(()=>[r(" Complete ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{re as default};
