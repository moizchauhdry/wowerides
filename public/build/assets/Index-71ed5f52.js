import{_ as W}from"./AuthenticatedLayout-4e9221ec.js";import{o as p,f as _,r as B,n as f,q as g,v as N,a as o,u as c,w as t,F as b,X as V,b as e,l as x,d as l,p as j,t as d,c as A,g as I}from"./app-c062a486.js";import{_ as y,a as w}from"./SecondaryButton-3f5add93.js";import{_ as v}from"./SuccessButton-bb9335d2.js";import{_ as C}from"./DangerButton-8e625514.js";import"./ApplicationLogo-91192ed3.js";const h={__name:"CustomLink",props:{color:{type:String,default:"blue"}},setup(m){const u=a=>"inline-flex items-center px-2 py-1 bg-"+a+"-500 border border-transparent rounded-md font-semibold text-xs text-white tracking-widest hover:bg-"+a+"-500 focus:bg-"+a+"-500 active:bg-"+a+"-500 focus:outline-none focus:ring-2 focus:ring-"+a+"-500 focus:ring-offset-2 transition ease-in-out duration-150";return(a,r)=>(p(),_("a",{class:f(u(m.color))},[B(a.$slots,"default")],2))}},L={class:"pb-5"},M=e("h2",{class:"float-left font-semibold text-xl text-gray-800 leading-tight"}," Work Order ",-1),E={class:"py-6 px-3"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},T={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},q={class:"relative overflow-x-auto"},z={class:"w-full text-sm text-left text-gray-500 light:text-gray-400"},P=e("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 light:bg-gray-700 light:text-gray-400"},[e("tr",null,[e("th",{scope:"col",class:"px-6 py-3"},"W.O ID"),e("th",{scope:"col",class:"px-6 py-3"},"W.O Date"),e("th",{scope:"col",class:"px-6 py-3"},"Customer name"),e("th",{scope:"col",class:"px-6 py-3"},"Category / Modal"),e("th",{scope:"col",class:"px-6 py-3"},"Status"),e("th",{scope:"col",class:"px-6 py-3"},"Total"),e("th",{scope:"col",class:"px-6 py-3"})])],-1),X={class:"px-6 py-4"},G={class:"px-6 py-4"},H={scope:"row",class:"px-6 py-4"},J={class:"px-6 py-4"},K=e("b",null,"Category:",-1),Q=e("br",null,null,-1),R=e("b",null,"Model:",-1),U=e("br",null,null,-1),Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},ee={class:"px-6 py-4"},te={class:"p-6"},se=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to complete the order? ",-1),oe=e("p",{class:"mt-1 text-sm text-gray-600"}," Once the work order is marked as completed, the current date will be assigned to the order, and a work order completion email will be sent to the relevant user. ",-1),le={class:"mt-6 flex justify-end"},ae={class:"p-6"},re=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete the order? ",-1),ne=e("p",{class:"mt-1 text-sm text-gray-600"}," Once the order is deleted, it cannot be reverted. ",-1),ce={class:"mt-6 flex justify-end"},ge={__name:"Index",props:{work_orders:Object},setup(m){const u=g(!1),a=g(!1),r=N({wo_id:""}),k=n=>{u.value=!0,r.wo_id=n},O=n=>{a.value=!0,r.wo_id=n},$=()=>{r.post(route("work-order.complete"),{preserveScroll:!0,onSuccess:()=>i()})},S=()=>{r.post(route("work-order.delete"),{preserveScroll:!0,onSuccess:()=>i()})},i=()=>{u.value=!1,a.value=!1};return(n,de)=>(p(),_(b,null,[o(c(V),{title:"Work Order"}),o(W,null,{header:t(()=>[e("div",L,[M,o(c(x),{class:"float-right focus:outline-none text-white bg-green-500 hover:bg-green-600 focus:ring-2 focus:ring-green-300 font-medium rounded-lg text-sm px-2 py-1 mr-2 mb-2 dark:focus:ring-green-900",href:n.route("work-order.create")},{default:t(()=>[l("Add Work Order")]),_:1},8,["href"]),o(c(x),{class:"float-right focus:outline-none text-white bg-blue-500 hover:bg-blue-600 focus:ring-2 focus:ring-blue-300 font-medium rounded-lg text-sm px-2 py-1 mr-2 mb-2 dark:focus:ring-blue-900",href:n.route("work-order.pending")},{default:t(()=>[l("Pending Orders")]),_:1},8,["href"])])]),default:t(()=>[e("div",E,[e("div",F,[e("div",T,[e("div",q,[e("table",z,[P,e("tbody",null,[(p(!0),_(b,null,j(m.work_orders.data,(s,ie)=>(p(),_("tr",{class:f(["border-b light:bg-gray-800 light:border-gray-700",s.wo_completed==1?"bg-green-100":"bg-white "])},[e("td",X,d(s.id),1),e("td",G,d(s.wo_date),1),e("td",H,[e("b",null,d(s.wo_customer_name),1)]),e("td",J,[K,l(" "+d(s.wo_bike_category)+" ",1),Q,R,l(" "+d(s.wo_bike_model)+" ",1),U]),e("td",Y,d(s.wo_status),1),e("td",Z," $"+d(s.wo_grand_total),1),e("td",ee,[o(h,{href:n.route("work-order.edit",s.id),class:"m-1",color:"blue"},{default:t(()=>[l("Edit")]),_:2},1032,["href"]),o(h,{href:n.route("work-order.pdf",s.id),target:"_blank",class:"m-1",color:"blue"},{default:t(()=>[l("Invoice")]),_:2},1032,["href"]),o(h,{href:n.route("work-order.label",s.id),target:"_blank",class:"m-1",color:"blue"},{default:t(()=>[l("Label")]),_:2},1032,["href"]),o(C,{onClick:D=>O(s.id),class:"m-1"},{default:t(()=>[l("Delete ")]),_:2},1032,["onClick"]),s.wo_completed==0?(p(),A(v,{key:0,onClick:D=>k(s.id),class:"m-1"},{default:t(()=>[l("Complete")]),_:2},1032,["onClick"])):I("",!0)])],2))),256))])])])])])]),o(y,{show:u.value,onClose:i},{default:t(()=>[e("div",te,[se,oe,e("div",le,[o(w,{onClick:i},{default:t(()=>[l(" Cancel ")]),_:1}),o(v,{class:f(["ml-3",{"opacity-25":c(r).processing}]),disabled:c(r).processing,onClick:$},{default:t(()=>[l(" Complete ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"]),o(y,{show:a.value,onClose:i},{default:t(()=>[e("div",ae,[re,ne,e("div",ce,[o(w,{onClick:i},{default:t(()=>[l(" Cancel ")]),_:1}),o(C,{class:f(["ml-3",{"opacity-25":c(r).processing}]),disabled:c(r).processing,onClick:S},{default:t(()=>[l(" Delete ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{ge as default};
